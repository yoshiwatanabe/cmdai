# CmdAI - AI-Powered CLI Assistant

Transform natural language into CLI commands using AI. Supports Azure OpenAI (remote) with Ollama (local) fallback.

## üì¶ Step 1: Install Prerequisites

### Install .NET 8.0
**Windows:**
```bash
# Download and install from: https://dotnet.microsoft.com/download/dotnet/8.0
winget install Microsoft.DotNet.SDK.8
```

**macOS:**
```bash
brew install dotnet
```

**Linux:**
```bash
# Ubuntu/Debian
wget https://packages.microsoft.com/config/ubuntu/22.04/packages-microsoft-prod.deb -O packages-microsoft-prod.deb
sudo dpkg -i packages-microsoft-prod.deb
sudo apt update && sudo apt install dotnet-sdk-8.0
```

### Verify Installation
```bash
dotnet --version  # Should show 8.0.x
```

## üöÄ Step 2: Install CmdAI

1. **Download**: Go to [Releases](https://github.com/yoshiwatanabe/cmdai/releases/latest) and download the latest `CmdAi.Cli.*.nupkg` file

2. **Install globally**:
   ```bash
   # Navigate to your downloads folder
   cd ~/Downloads  # or wherever you downloaded the file
   
   # Install the tool globally
   dotnet tool install --global --add-source . CmdAi.Cli
   ```

3. **Verify installation**:
   ```bash
   cmdai version
   # Should show: CmdAI - AI-Powered CLI Assistant v1.x.x
   ```

## ‚öôÔ∏è Step 3: Configure AI Providers

### Option A: Azure OpenAI (Recommended - Most Powerful)

1. **Download configuration template**:
   - Go to [.env.example](https://raw.githubusercontent.com/yoshiwatanabe/cmdai/main/.env.example)
   - Right-click ‚Üí "Save As" ‚Üí Save as `.env` (remove the `.example` part)
   - **Save location**: Your home directory (e.g., `C:\Users\YourName\.env` or `~/.env`)

2. **Edit the `.env` file** with your Azure OpenAI credentials:
   ```bash
   # Open .env in any text editor and replace these lines:
   AI__AzureOpenAIApiKey=your_actual_api_key_here
   AI__AzureOpenAIEndpoint=https://your-endpoint.openai.azure.com/openai/deployments/your-model/chat/completions?api-version=2025-01-01-preview
   AI__Providers__0=azureopenai
   AI__Providers__1=ollama
   ```

3. **That's it!** 
   - CmdAI will automatically find your `.env` file in your home directory
   - Works from any folder on your system - no need to copy the file around
   - One secure location for your API key

### Option B: Add Ollama Fallback (Optional but Recommended)

1. **Install Ollama**:
   ```bash
   # All platforms
   curl -fsSL https://ollama.ai/install.sh | sh
   ```

2. **Download AI model**:
   ```bash
   ollama pull codellama:7b  # ~4GB download
   ```

3. **Start Ollama service**:
   ```bash
   ollama serve  # Runs on http://localhost:11434
   ```

## üéØ Step 4: Start Using CmdAI

### Basic Usage
```bash
# Azure OpenAI will be tried first, then Ollama, then patterns
cmdai git "delete untracked files"     ‚Üí git clean -fd
cmdai az "list subscriptions"          ‚Üí az account list --output table  
cmdai docker "show running containers" ‚Üí docker ps
cmdai kubectl "get pods"               ‚Üí kubectl get pods
```

### Verify AI is Working
```bash
# This should show "Generated by model-router" (Azure OpenAI) 
# or "Generated by codellama:7b" (Ollama)
cmdai git "show current status"
```

## üîß Configuration Priority

CmdAI tries providers in this order:
1. **Azure OpenAI** (if configured) - Most powerful
2. **Ollama** (if running) - Private local AI  
3. **Patterns** (always available) - Reliable fallback

## üÜò Troubleshooting

**CmdAI not found after install?**
```bash
# Add .NET tools to your PATH
export PATH="$PATH:$HOME/.dotnet/tools"
```

**Azure OpenAI not working?**
- Verify your API key and endpoint in `.env`
- Check that you're running cmdai from the directory containing `.env`

**Ollama not working?**
```bash
# Check if Ollama is running
curl http://localhost:11434/api/tags
```

## üìÑ License

MIT License